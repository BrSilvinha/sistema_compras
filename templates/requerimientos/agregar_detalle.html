{% extends "base.html" %}

{% block content %}
  <h1>Agregar Detalle al Requerimiento #{{ requerimiento.id }}</h1>

  <form method="post">
      {% csrf_token %}
      <label>Producto:</label>
      <select name="producto" required>
          {% for producto in productos %}
              <option value="{{ producto.id }}">{{ producto.nombre }}</option>
          {% endfor %}
      </select><br><br>

      <label>Cantidad:</label>
      <input type="number" name="cantidad" min="1" required><br><br>

      <button type="submit">Agregar Producto</button>
  </form>

  <hr>
  <h2>Productos agregados:</h2>
  <ul>
    {% for detalle in detalles_existentes %}
        <li>{{ detalle.cantidad }} x {{ detalle.producto.nombre }}</li>
    {% empty %}
        <li>No se han agregado productos a√∫n.</li>
    {% endfor %}
</ul>

{% endblock %}
